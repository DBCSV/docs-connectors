= About Websocket Connection Management Components
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: connectors, ws, wss, websocket, broadcast

=== Send Operation

The send operation allows the user to send a message through WebSocket identified by its socket ID, once a connection has been established. This operation can be used for both inbound and outbound WebSockets.


[source,xml,linenums]
----
    <flow name="sayHello">
      <websocket:open-outbound-socket path="/chat/hello" config-ref="ws" target="socketId" targetValue="#[attributes.socketId]"/>
      <websocket:send socketId="#[vars.socketId]" config-ref="ws">
        <websocket:content>'Good morning!'</websocket:content>
      </websocket:send>
    </flow>

    <flow name="sayHelloBack">
        <websocket:inbound-listener path="/chat/hello" config-ref="ws" outputMimeType="text/plain" />
        <websocket:send socketId="#[attributes.socketId]" config-ref="ws">
            <websocket:content>#['Good morning ' ++ attributes.socketId ++ '!']</websocket:content>
        </websocket:send>
    </flow>
----

=== Broadcast Operation

The broadcast operation allows a certain message to be sent to a group of other sockets. To select the group of WebSockets to which the message can be broadcast:

    * Subscribe to specific groups
    * Connect to a specific path
    * Or be of a specific type (INBOUND or OUTBOUND)

The type and group parameters work in tandem, in an additive way. They are both optional and can be used separately, but when used together they act as two levels of filtering.

Examples:

[source,xml,linenums]
----
<!-- send to all WebSockets connected to an endpoint of path /quotes -->
<websocket:broadcast path=”/quotes” ​config-ref​=​"ws"​ />

<!-- send to all Inbound WebSockets connected to an endpoint of path /quotes -->
<websocket:broadcast path=”/quotes” ​type​=​"INBOUND"​ ​config-ref​="​ws"​ />

<!-- send to all Outbound sockets connected to the /quotes endpoint -->
<websocket:broadcast path=”/quotes” ​type​=​"OUTBOUND"​ ​config-ref​=​"ws"​ />

<!-- send to all INBOUND sockets connected to the /quotes endpoint, in the MARVEL and DC groups -->
<websocket:broadcast path=”/quotes” ​type​=​"INBOUND"​ ​groups​="​ #[['MARVEL', 'DC']]"​ ​config-ref​=​"ws"​ />
----

==== Output

This operation returns empty payload and attributes.

== See Also

* https://help.mulesoft.com[MuleSoft Help Center]
* https://support.mulesoft.com/s/knowledge[Knowledge Base Articles]
* xref:websocket/websockets-connector-managing-groups.adoc[Manage WebSocket Groups]
* xref:websocket/websockets.adoc[WebSocket Connector]
* xref:websocket/websocket-connector-configuration.adoc[WebSocket Connector Configuration]
