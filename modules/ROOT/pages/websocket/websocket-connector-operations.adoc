= WebSocket Operations - Mule 4
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../../assets/images/

WebSocket Connector supports the following operations for inbound (server end) and outbound (client end) WebSockets:

[%header,cols="20a,80a"]
|===
|WebSocket Type | Supported Operations
|Inbound  a|

* <<broadcast-operation,Broadcast>>
* <<close-operation, Close WebSocket Connection>>
* <<send-operation,Send>>
* <<subscribe-groups-operation,Subscribe Groups>>
* <<unsubscribe-groups-operation,Unsubscribe Groups>>
|Outbound a|

* <<broadcast-operation,Broadcast>>
* <<close-operation, Close WebSocket Connection>>
* <<open-outbound-socket-operation,Open Outbound WebSocket>>
* <<send-operation,Send>>
* <<subscribe-groups-operation,Subscribe Groups>>
* <<unsubscribe-groups-operation,Unsubscribe Groups>>
|===

== Close WebSocket Connection Operation [[close-operation]]

== Open Outbound Socket Operation [[open-outbound-socket-operation]]

<add text here>

== Send Operation [[send-operation]]

Use `<websocket:send` to send a message through a WebSocket. You can use this operation to send a message from the WebSocket's inbound endpoint to its outbound endpoint, or from its outbound endpoint to its inbound endpoint.

For example:

* The flow named `Say Hello`:
. Opens an outbound endpoint on a WebSocket called `socketId` on path `/chat/hello`.
. Sends the message `Good morning!` through the WebSocket.
* The flow named `Say Hello Back`:
. Listens for a message on the path `/chat/hello`.
. Responds `Good morning to you` when it hears a message.

[source,xml,linenums]
----
    <flow name="sayHello">
      <websocket:open-outbound-socket path="/chat/hello"
        config-ref="ws" target="outboundSocketId"
        targetValue="#[attributes.socketId]"/>
      <websocket:send socketId="#[vars.socketId]"
        config-ref="ws">
        <websocket:content>'Good morning!'</websocket:content>
      </websocket:send>
    </flow>
    <flow name="sayHelloBack">
        <websocket:inbound-listener path="/chat/hello"
          config-ref="ws" outputMimeType="text/plain" />
        <websocket:send socketId="#[attributes.socketId]"
          config-ref="ws">
          <websocket:content>#['Good morning to you ' ++
           attributes.socketId ++ '!']</websocket:content>
        </websocket:send>
    </flow>
----

== Subscribe Groups Operation [[subscribe-groups-operation]]

<add text here>

== Unsubscribe Groups Operation [[unsubscribe-groups-operation]]

<add text here>
